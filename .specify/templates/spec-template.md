# 機能仕様書: [FEATURE NAME]

**機能ブランチ**: `[###-feature-name]`  
**作成日**: [DATE]  
**ステータス**: 下書き  
**入力**: ユーザー説明: "$ARGUMENTS"

## ユーザーシナリオとテスト *(必須)*

<!--
  重要: ユーザーストーリーは重要度順に優先順位付けする必要があります。
  各ユーザーストーリー/ジャーニーは独立してテスト可能でなければなりません。
  つまり、1つだけ実装しても、価値を提供する実行可能なMVP（最小実行可能製品）が得られる必要があります。
  
  各ストーリーに優先度（P1、P2、P3など）を割り当てます。P1が最も重要です。
  各ストーリーを、以下が可能な独立した機能スライスとして考えてください:
  - 独立して開発可能
  - 独立してテスト可能
  - 独立してデプロイ可能
  - ユーザーに独立してデモ可能
-->

### ユーザーストーリー1 - [簡潔なタイトル] (優先度: P1)

[このユーザージャーニーを平易な言葉で説明]

**優先度の理由**: [価値とこの優先度レベルの理由を説明]

**独立テスト**: [これを独立してテストする方法を説明 - 例: 「[特定のアクション]により完全にテスト可能で、[特定の価値]を提供する」]

**受入シナリオ**:

1. **前提条件** [初期状態]、**操作** [アクション]、**期待結果** [期待される結果]
2. **前提条件** [初期状態]、**操作** [アクション]、**期待結果** [期待される結果]

---

### ユーザーストーリー2 - [簡潔なタイトル] (優先度: P2)

[このユーザージャーニーを平易な言葉で説明]

**優先度の理由**: [価値とこの優先度レベルの理由を説明]

**独立テスト**: [これを独立してテストする方法を説明]

**受入シナリオ**:

1. **前提条件** [初期状態]、**操作** [アクション]、**期待結果** [期待される結果]

---

### ユーザーストーリー3 - [簡潔なタイトル] (優先度: P3)

[このユーザージャーニーを平易な言葉で説明]

**優先度の理由**: [価値とこの優先度レベルの理由を説明]

**独立テスト**: [これを独立してテストする方法を説明]

**受入シナリオ**:

1. **前提条件** [初期状態]、**操作** [アクション]、**期待結果** [期待される結果]

---

[必要に応じてさらにユーザーストーリーを追加。各ストーリーに優先度を割り当て]

### エッジケース

<!--
  必須対応: このセクションの内容はプレースホルダーです。
  適切なエッジケースを記入してください。
-->

- [境界条件]の場合、何が起きるか？
- システムは[エラーシナリオ]をどのように処理するか？

## 要件 *(必須)*

<!--
  必須対応: このセクションの内容はプレースホルダーです。
  適切な機能要件を記入してください。
-->

### 機能要件

- **FR-001**: システムは[特定の機能、例: 「ユーザーがアカウントを作成できる」]しなければならない（MUST）
- **FR-002**: システムは[特定の機能、例: 「メールアドレスを検証する」]しなければならない（MUST）
- **FR-003**: ユーザーは[主要な操作、例: 「パスワードをリセットできる」]必要がある（MUST）
- **FR-004**: システムは[データ要件、例: 「ユーザー設定を永続化する」]しなければならない（MUST）
- **FR-005**: システムは[動作、例: 「すべてのセキュリティイベントを記録する」]しなければならない（MUST）

*不明確な要件のマーキング例:*

- **FR-006**: システムは[要明確化: 認証方式が未指定 - メール/パスワード、SSO、OAuth?]によりユーザーを認証しなければならない（MUST）
- **FR-007**: システムは[要明確化: 保持期間が未指定]の間、ユーザーデータを保持しなければならない（MUST）

### セキュリティ要件 *(機密データを扱う場合は必須)*

- **SR-001**: 機密データは平文で保存してはならない（MUST NOT）
- **SR-002**: すべての機密データは暗号化またはハッシュ化しなければならない（MUST）
- **SR-003**: セキュリティレビューを経ずに機密データを扱う機能をデプロイしてはならない（MUST NOT）

### パフォーマンス要件 *(必須)*

- **PR-001**: [操作]は[具体的な時間、例: 「200ms以内」]に完了しなければならない（MUST）
- **PR-002**: メモリ使用量は[具体的な数値、例: 「100MB以下」]でなければならない（MUST）
- **PR-003**: システムは[具体的な負荷、例: 「1000並行ユーザー」]を処理できなければならない（MUST）

### アクセシビリティ要件

- **AR-001**: すべてのUIコンポーネントに適切なARIA属性を設定しなければならない（MUST）
- **AR-002**: キーボード操作のみですべての機能にアクセス可能でなければならない（MUST）
- **AR-003**: レスポンシブデザインを実装し、複数デバイスで動作しなければならない（MUST）

### 主要エンティティ *(機能がデータを扱う場合に含める)*

- **[エンティティ1]**: [それが表すもの、実装を含まない主要属性]
- **[エンティティ2]**: [それが表すもの、他のエンティティとの関係]

## 成功基準 *(必須)*

<!--
  必須対応: 測定可能な成功基準を定義してください。
  これらは技術に依存せず、測定可能でなければなりません。
-->

### 測定可能な成果

- **SC-001**: [測定可能なメトリック、例: 「ユーザーは2分以内にアカウント作成を完了できる」]
- **SC-002**: [測定可能なメトリック、例: 「システムは1000並行ユーザーを劣化なく処理する」]
- **SC-003**: [ユーザー満足度メトリック、例: 「90%のユーザーが初回試行で主要タスクを完了する」]
- **SC-004**: [ビジネスメトリック、例: 「[X]に関連するサポートチケットを50%削減する」]

## 憲法準拠チェック

このセクションは、プロジェクト憲法への準拠を確認するために使用されます。

**テスト駆動開発**:
- [ ] すべての受入シナリオにテストケースが定義されているか
- [ ] テストファーストアプローチが明示されているか

**セキュリティファースト**:
- [ ] 機密データを扱う場合、セキュリティ要件が定義されているか
- [ ] 暗号化/ハッシュ化の必要性が明示されているか

**パフォーマンス基準**:
- [ ] パフォーマンス要件が定量的な閾値で定義されているか
- [ ] 成功基準にパフォーマンスメトリックが含まれているか

**ユーザー体験**:
- [ ] アクセシビリティ要件が定義されているか
- [ ] レスポンシブデザインの要件が含まれているか
